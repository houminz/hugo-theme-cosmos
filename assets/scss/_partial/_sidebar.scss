.sidebar {
  flex: 0 0 $post-sidebar-width;
  box-sizing: border-box;

  nav {
    @include fixed;

    padding: $post-sidebar-nav-padding-top;
    margin-top: $post-sidebar-nav-margin-top;
    margin-left: $post-sidebar-nav-margin-left;
    height: 100%;


    > ul > li > * {
      font-weight: normal;
    }

    > :first-child,
    > :first-child > :first-child {
      margin-top: 0;
    }

    section {
      margin-top: $padding-32;
    }
  }

  &__control {
    display: none;
    margin: 0;
    padding: 0;

    svg.icon {
      cursor: pointer;
    }

    svg.icon.menu {
      display: inline-block;
    }

    svg.icon.arrow-left {
      display: none;
    }
  }

  &__list {
    margin: 0;
    padding: 0;
    list-style: none;
    user-select: none;

    ul {
      padding-left: $padding-16;
    }

    li {
      margin: $padding-8 0;
    }

    svg.icon {
      margin-right: $padding-4;
    }
  }

  &__toggle {
    display: none;

    & ~ label {
      cursor: pointer;

      svg.icon.toggle {
        width: $font-size-16;
        height: $font-size-16;
      }
    }

    &:not(:checked) {
      & ~ ul,
      & ~ label svg.icon.angle-down {
        display: none;
      }
      & ~ label svg.icon.angle-left {
        display: block;
      }
    }

    &:checked {
      & ~ ul,
      & ~ label svg.icon.angle-down {
        display: block;
      }

      & ~ label svg.icon.angle-left {
        display: none;
      }
    }
  }

  &--main > ul > li > span,
  &--main > ul > li > span > a,
  &--main > ul > li > label,
  &--main > ul > li > label > a {
    font-weight: bold;
  }
}

// Responsive styles
.sidebar nav {
  transition: 0.2s ease-in-out;
  transition-property: transform, margin-left, opacity;
  will-change: transform, margin-left;
}

@media screen and (max-width: $sm-breakpoint) {
  .sidebar {
    margin-left: -$post-sidebar-width;

    &__control {
      display: inline-block !important;
    }
  }

  #menu-control:checked ~ main {
    .sidebar nav, .post {
      transform: translateX($post-sidebar-width);
    }

    .post {
      opacity: 0.25;
    }
  }

  #menu-control:checked ~ .header .sidebar__control {
    svg.icon.menu {
      display: none;
    }

    svg.icon.arrow-left {
      display: inline-block;
    }
  }
}